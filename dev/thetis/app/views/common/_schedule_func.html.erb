<script type="text/javascript">

showScheduleDetail = function(date, schedule_id, title)
{
  var thetisBoxProgress = prog("CENTER");

  var thetisBox = new ThetisBox;
  thetisBox.title = "<%= Schedule.model_name.human %> <%= t('msg.hyphen') %> "+title;
  thetisBox.bgcolor_title = "limegreen";
  thetisBox.bgcolor_body = "lightcyan";
  new Ajax.Request(
          "<%= url_for(:controller => 'schedules', :action => 'show') %>?id=" + schedule_id,
          {
            method:"get",
            asynchronous:true,
            parameters:"from=desktop",
            evalScripts:true,
            onComplete:function(request) {
                thetisBox.show(
                          "CENTER",
                          mainWidth*80/100+"," + mainHeight*80/100,
                          "TRAY",
                          "",
                          "",
                          request.responseText
                        );
                thetisBoxProgress.remove();
                request.responseText.evalScripts();
              }
          }
        );
}

editScheduleDetail = function(date, id)
{
  prog("TOP-RIGHT");
  location.href="<%= url_for(:controller => 'schedules', :action => 'day') %>?date="+date+"&edit_id="+id;
}

doScheduleDelete = function(date, id, title)
{
  confm("<%= t('paren.square.left') %>"+title+"<%= t('schedule.confirm_to_delete') %>", "_doScheduleDelete('"+date+"', '"+id+"')");
}

_doScheduleDelete = function(date, id)
{
  prog("TOP-RIGHT");
  location.href="<%= url_for(:controller => 'schedules', :action => 'day') %>?date="+date+"&doDelete="+id;
}

</script>
