
<script type="text/javascript">

// Verbose definition for dojo.io.iframe >>>
getCsrfToken = function()
{
  var targetFrame = top;
  if (top.main) {
    targetFrame = top.main;
  }
  var metas = targetFrame.document.getElementsByTagName ("meta");
  for (var i=0; i < metas.length; i++) {
    var meta = metas[i];
    if (meta.name == "csrf-token") {
      return meta.content;
    }
  }
  return null;
}
// Verbose definition for dojo.io.iframe <<<

alertSessionRenewed = function()
{
  if (getCsrfToken() != "<%= form_authenticity_token %>") {
    var tipsBox = tips("<%= t('msg.session_reset') %>", "CENTER");
    var tipsContainer = tipsBox.getContainer();
    if (tipsContainer) {
      tipsContainer.style.zIndex += 100;
    }
    top.document.location.href = "<%= THETIS_RELATIVE_URL_ROOT %>";
  }
}
alertSessionRenewed();

</script>
